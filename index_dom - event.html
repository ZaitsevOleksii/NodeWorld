<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>DOM</title>
    </head>
    <body>
		<div id="demo"></div>
       <script> 
			fetch('https://jsonplaceholder.typicode.com/posts')
			.then(function(res){
				if (res.status !==200) throw new Error(res.status);
				console.log(res);
				return res.json();
			})
			
			.then(function(posts){
			
				let div = document.getElementById("demo");
				
				
				
				for (let i=posts.length-1;i>=0;i--){
					
					if (posts[i].title.length < 30){
						//console.log(posts[i]);
						
							let br1 = document.createElement("br");
							let br2 = document.createElement("br");
							let br3 = document.createElement("br");
							let p = document.createElement("p");
							let nodeUid = document.createTextNode(`userId: ${posts[i].userId}`);
							let nodeId = document.createTextNode(`id: ${posts[i].id}`);
							let nodeTitle = document.createTextNode(`title: ${posts[i].title}`);
							let nodeBody = document.createTextNode(`body: ${posts[i].body}`);
							
							p.appendChild(nodeUid);
							p.appendChild(br1);
							p.appendChild(nodeId);
							p.appendChild(br2);
							p.appendChild(nodeTitle);
							p.appendChild(br3);
							p.appendChild(nodeBody);
								
							div.appendChild(p);
							p.addEventListener("click",myLitl);
							
							function myLitl(){
								alert(`title: ${posts[i].title}`);
							
							}
						
					}
				}
				
			})
			
			.catch(function(err){
				console.log(err);
			});
		</script>
    </body>
</html>
